<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ðŸ’˜ Valentine Link</title>
  <style>
    :root{
      --bg1:#ff5fa2;
      --bg2:#7c4dff;
      --card:#ffffffcc;
      --text:#1a1a1a;
      --shadow: 0 18px 60px rgba(0,0,0,.25);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 20%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(900px 600px at 80% 30%, rgba(255,255,255,.25), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .card{
      width:min(720px, 92vw);
      background:var(--card);
      border:1px solid rgba(255,255,255,.35);
      backdrop-filter: blur(10px);
      border-radius:26px;
      box-shadow: var(--shadow);
      padding:28px 22px 26px;
      text-align:center;
      position:relative;
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(34px, 4vw, 52px);
      letter-spacing:.3px;
    }
    p{
      margin:0 0 18px;
      font-size: clamp(16px, 2vw, 18px);
      opacity:.9;
    }

    .playground{
      position:relative;
      height: 260px;
      margin-top: 14px;
      border-radius:20px;
      border:1px dashed rgba(0,0,0,.15);
      background: rgba(255,255,255,.45);
      overflow:hidden;
    }

    .btn{
      position:absolute;
      padding: 14px 18px;
      min-width: 120px;
      border: none;
      border-radius: 999px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(0,0,0,.15);
      transition: transform .08s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.97); }

    .yes{
      background: #18c37e;
      color: white;
    }
    .no{
      background: #ff3b57;
      color: white;
    }

    .hint{
      margin-top:14px;
      font-size: 13px;
      opacity: .8;
    }

    /* Modal */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      z-index: 10;
    }
    .overlay.show{ display:flex; }

    .modal{
      width: min(820px, 96vw);
      background: rgba(255,255,255,.95);
      border-radius: 24px;
      overflow:hidden;
      box-shadow: 0 22px 80px rgba(0,0,0,.4);
      position:relative;
    }
    .modalTop{
      padding: 16px 18px 0;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
    }
    .modal h2{
      margin:0;
      font-size: clamp(20px, 2.8vw, 28px);
    }
    .close{
      border:none;
      border-radius: 12px;
      padding: 10px 12px;
      cursor:pointer;
      background: rgba(0,0,0,.08);
      font-weight:700;
    }
    .imgWrap{
      padding: 14px 18px 18px;
    }
    .img{
      width:100%;
      height: min(60vh, 520px);
      object-fit: cover;
      border-radius: 18px;
      border:1px solid rgba(0,0,0,.1);
      background: #f2f2f2;
    }
    .caption{
      padding: 0 18px 18px;
      margin-top: -6px;
      font-size: 15px;
      opacity:.9;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>you love me ðŸ’˜</h1>
    <p>Choisis bienâ€¦ (et attrape le bouton ðŸ˜ˆ)</p>

    <div class="playground" id="playground" aria-label="zone de jeu">
      <button class="btn yes" id="yesBtn">Yes</button>
      <button class="btn no" id="noBtn">No</button>
    </div>

    <div class="hint">Tip: sur mobile, essaie plusieurs fois ðŸ‘€</div>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="modal">
      <div class="modalTop">
        <h2 id="modalTitle">ðŸ’–</h2>
        <button class="close" id="closeBtn">Close</button>
      </div>
      <div class="imgWrap">
        <img class="img" id="modalImg" alt="valentine image" />
      </div>
      <div class="caption" id="modalCaption"></div>
    </div>
  </div>

  <script>
    // âœ… 1) Remplace ces liens par TES images (ou des fichiers locaux)
    // Option A (simple): mets des URLs dâ€™images (ex: lien Imgur, Google Drive direct, etc.)
    // Option B (propre): mets "yes.jpg" et "no.jpg" dans le mÃªme dossier que index.html, et remplace par "yes.jpg" / "no.jpg"
    const IMAGES = {
      yes: "https://images.unsplash.com/photo-1518199266791-5375a83190b7?auto=format&fit=crop&w=1600&q=80",
      no:  "https://images.unsplash.com/photo-1520962917960-67f39bfacbdc?auto=format&fit=crop&w=1600&q=80"
    };

    const TEXTS = {
      yesTitle: "OKâ€¦ I knew it ðŸ˜ŒðŸ’˜",
      yesCaption: "Jâ€™espÃ¨re que tu as cliquÃ© exprÃ¨s. Happy Valentineâ€™s, mi amor â¤ï¸",
      noTitle: "ðŸ˜‚ Nice try",
      noCaption: "MÃªme si tu dis nonâ€¦ je sais la vÃ©ritÃ© ðŸ˜ˆ"
    };

    const playground = document.getElementById("playground");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");

    const overlay = document.getElementById("overlay");
    const modalTitle = document.getElementById("modalTitle");
    const modalImg = document.getElementById("modalImg");
    const modalCaption = document.getElementById("modalCaption");
    const closeBtn = document.getElementById("closeBtn");

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function placeButton(btn, x, y){
      btn.style.left = x + "px";
      btn.style.top  = y + "px";
    }

    function getBounds(){
      const r = playground.getBoundingClientRect();
      return { w: r.width, h: r.height };
    }

    function randomSpot(btn){
      const { w, h } = getBounds();
      const bw = btn.offsetWidth;
      const bh = btn.offsetHeight;

      const padding = 12;
      const x = rand(padding, w - bw - padding);
      const y = rand(padding, h - bh - padding);
      placeButton(btn, x, y);
    }

    // place initial
    function init(){
      // petit placement â€œmignonâ€
      const { w, h } = getBounds();
      placeButton(yesBtn, w*0.25 - yesBtn.offsetWidth/2, h*0.60);
      placeButton(noBtn,  w*0.70 - noBtn.offsetWidth/2,  h*0.60);
    }

    // Bouton NO esquive (hover + touchstart)
    function dodge(){
      randomSpot(noBtn);
    }

    // Bonus: le YES bouge un peu aussi (mais moins)
    function wiggleYes(){
      const { w, h } = getBounds();
      const bw = yesBtn.offsetWidth;
      const bh = yesBtn.offsetHeight;
      const padding = 12;

      const currentX = parseFloat(yesBtn.style.left || "0");
      const currentY = parseFloat(yesBtn.style.top  || "0");

      const dx = rand(-70, 70);
      const dy = rand(-45, 45);

      const x = clamp(currentX + dx, padding, w - bw - padding);
      const y = clamp(currentY + dy, padding, h - bh - padding);

      placeButton(yesBtn, x, y);
    }

    // Afficher rÃ©sultat
    function showResult(kind){
      const isYes = kind === "yes";
      modalTitle.textContent = isYes ? TEXTS.yesTitle : TEXTS.noTitle;
      modalCaption.textContent = isYes ? TEXTS.yesCaption : TEXTS.noCaption;
      modalImg.src = isYes ? IMAGES.yes : IMAGES.no;

      overlay.classList.add("show");
    }

    function closeModal(){
      overlay.classList.remove("show");
      // re-jouer : replacer alÃ©atoirement
      randomSpot(yesBtn);
      randomSpot(noBtn);
    }

    // Events
    noBtn.addEventListener("mouseenter", dodge);
    noBtn.addEventListener("pointerenter", dodge);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); dodge(); }, {passive:false});

    // Le YES bouge un peu, pour le fun
    yesBtn.addEventListener("mouseenter", () => {
      if (Math.random() < 0.35) wiggleYes();
    });
    yesBtn.addEventListener("touchstart", () => {
      if (Math.random() < 0.45) wiggleYes();
    }, {passive:true});

    yesBtn.addEventListener("click", () => showResult("yes"));
    noBtn.addEventListener("click",  () => showResult("no"));

    closeBtn.addEventListener("click", closeModal);
    overlay.addEventListener("click", (e) => {
      if (e.target === overlay) closeModal();
    });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeModal();
    });

    // Responsif: re-init sur resize
    let resizeTimer;
    window.addEventListener("resize", () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        init();
      }, 120);
    });

    // Preload images (optionnel mais agrÃ©able)
    [IMAGES.yes, IMAGES.no].forEach(src => { const i=new Image(); i.src=src; });

    // go
    // petit dÃ©lai pour que les dimensions soient bien calculÃ©es
    setTimeout(() => { init(); }, 50);
  </script>
</body>
</html>
